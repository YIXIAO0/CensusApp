by_dest,
count = n(),
dist = mean(distance, na.rm = TRUE),
delay = mean(arr_delay, na.rm = TRUE)
)
delay <- filter(delay, count > 20, dest != "HNL")
ggplot(data = delay, mapping = aes(x = dist, y = delay)) +
geom_point(aes(size = count), alpha = 1/3) +
geom_smooth(se = FALSE)
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
install.packages('nycflights13')
library(nycflights13)
library(ggplot2)
library(dplyr)
library(nycflights13)
library(ggplot2)
miss_dep <- filter(flights, is.na(dep_time))
miss_dep
count(miss_dep)
miss_dep <- filter(flights, is.na(dep_time))
count(miss_dep)
head(miss_dep)
dep_time_mins <- select(flights, dep_time, sched_dep_time)
mutate(dep_time_mins,
dep_time_in_min = (dep_time %/% 100) * 60 + dep_time %% 100,
sched_dep_time_in_min = (sched_dep_time %/% 100) * 60 + sched_dep_time %% 100 )
dep_time_mins <- select(flights, dep_time, sched_dep_time)
dep_time_in_mins <- mutate(dep_time_mins,
dep_time_in_min = (dep_time %/% 100) * 60 + dep_time %% 100,
sched_dep_time_in_min = (sched_dep_time %/% 100) * 60 + sched_dep_time %% 100 )
head(dep_time_in_mins)
floor(flights$dep_time / 100) * 60 + flights$dep_time %% 100
cancelledFlightsPerDay <- group_by(miss_dep, year, month, day)
cancelledFlightsPerDay
cancelledFlightsPerDay <- group_by(miss_dep, year, month, day)
cancelDaily <- summarise(
cancelledFlightsPerDay,
count = n(),
delay = mean(arr_delay, na.rm = TRUE)
)
ggplot(data = cancelDaily, mapping = aes(x = delay, y = count)) +
geom_point(aes(size = count), alpha = 1/3) +
geom_smooth(se = FALSE)
ggplot(data = cancelDaily) +
geom_freqpoly(aes(x = flightsByDay, y = canclled))
flightsByDay <- group_by(flights, year, month, day)
flightsDaily <- summarise(
flightsByDay,
cancelled = sum(is.na(dep_time)),
count = n(),
delay = mean(arr_delay, na.rm = TRUE)
)
ggplot(data = cancelDaily) +
geom_freqpoly(aes(x = flightsByDay, y = canclled))
flightsByDay <- group_by(flights, year, month, day)
flightsDaily <- summarise(
flightsByDay,
cancelled = sum(is.na(dep_time)),
count = n(),
delay = mean(arr_delay, na.rm = TRUE)
)
ggplot(data = cancelDaily) +
geom_freqpoly(aes(x = flightsByDay, y = cancelled))
flightsByDay <- group_by(flights, year, month, day)
flightsDaily <- summarise(
flightsByDay,
cancelled = sum(is.na(dep_time)),
count = n(),
delay = mean(arr_delay, na.rm = TRUE)
)
ggplot(data = flightsDaily) +
geom_freqpoly(aes(x = flightsByDay, y = cancelled))
flights %>%
group_by(year, month, day) %>%
summarise(mean_dep_delay = mean(dep_delay, na.rm = TRUE))
not_cancelled <- flights %>%
filter(!is.na(dep_delay), !is.na(arr_delay))
not_cancelled <- flights %>%
group_by(year, month, day) %>%
summarise(dep_delay_mean = mean(dep_delay))
flights %>%
group_by(year, month, day) %>%
summarise(mean_dep_delay = mean(dep_delay, na.rm = TRUE))
not_cancelled <- flights %>%
filter(!is.na(dep_delay), !is.na(arr_delay))
not_cancelled <- flights %>%
group_by(year, month, day) %>%
summarise(dep_delay_mean = mean(dep_delay))
canclled <- flights %>%
group_by(year, month, day) %>%
summarise(count = sum(is.na(dep_delay)))
cancelled
flights %>%
group_by(year, month, day) %>%
summarise(mean_dep_delay = mean(dep_delay, na.rm = TRUE))
not_cancelled <- flights %>%
filter(!is.na(dep_delay), !is.na(arr_delay))
not_cancelled <- flights %>%
group_by(year, month, day) %>%
summarise(dep_delay_mean = mean(dep_delay))
cancelled <- flights %>%
group_by(year, month, day) %>%
summarise(count = sum(is.na(dep_delay)))
cancelled
delays <- flights %>%
group_by(year, month, day) %>%
summarise(
cancelledflights = sum(is.na(dep_delay))
)
delays
delays <- flights %>%
group_by(year, month, day) %>%
summarise(
cancelledflights = sum(is.na(dep_delay))
) %>%
filter(!is.na(dep_delay), !is.na(arr_delay)) %>%
summarise(mean = mean(dep_delay))
delays <- flights %>%
group_by(year, month, day) %>%
summarise(
cancalledFlights = sum(is.na(dep_delay)),
avgDelay = mean(dep_delay, na.rm = TRUE)
)
delays
ggplot(delays, aes(x = avgDelay, y = cancelledFlights)) +
geom_point()
delays <- flights %>%
group_by(year, month, day) %>%
summarise(
cancelledFlights = sum(is.na(dep_delay)),
avgDelay = mean(dep_delay, na.rm = TRUE)
)
ggplot(delays, aes(x = avgDelay, y = cancelledFlights)) +
geom_point()
ggplot(delays, aes(x = avgDelay, y = cancelledFlights)) +
geom_point(alpha = 1/10)
ggplot(delays, aes(x = avgDelay, y = cancelledFlights)) +
geom_point(alpha = 1/5)
delays
delays <- flights %>%
group_by(year, month, day) %>%
summarise(
cancelledFlights = sum(is.na(dep_delay)),
avgDelay = mean(dep_delay, na.rm = TRUE)
)
delays <- flights %>%
group_by(year, month, day) %>%
summarise(
cancelledFlights = sum(is.na(dep_delay)),
avgDelay = mean(dep_delay, na.rm = TRUE)
)
ggplot(delays, aes(x = avgDelay, y = cancelledFlights)) +
geom_point(alpha = 1/5)
View(delay)
delays <- flights %>%
group_by(year, month, day) %>%
summarise(
cancelledFlights = sum(is.na(dep_delay)),
allFlights = n(),
avgDelay = mean(dep_delay, na.rm = TRUE)
)
delays
delays <- flights %>%
group_by(year, month, day) %>%
summarise(
cancelledFlights = sum(is.na(dep_delay)),
allFlights = n(),
proportion = cancelledFlights / allFlights,
avgDelay = mean(dep_delay, na.rm = TRUE)
)
delays
ggplot(delays, aes(x = proportion, y = cancelledFlights)) +
geom_point(alpha = 1/5)
delays <- flights %>%
group_by(year, month, day) %>%
summarise(
cancelledFlights = sum(is.na(dep_delay)),
allFlights = n(),
proportion = cancelledFlights / allFlights,
avgDelay = mean(dep_delay, na.rm = TRUE)
)
ggplot(delays, aes(x = proportion, y = cancelledFlights)) +
geom_point(alpha = 1/5)
delays <- flights %>%
group_by(year, month, day) %>%
summarise(
cancelledFlights = sum(is.na(dep_delay)),
allFlights = n(),
proportion = cancelledFlights / allFlights,
avgDelay = mean(dep_delay, na.rm = TRUE)
)
ggplot(delays, aes(x = avgDelay, y = proportion)) +
geom_point(alpha = 1/5)
10 / 6^4
(5^4 + 4 * 5^3 + 6 * 5^2)
(5^4 + 4 * 5^3 + 6 * 5^2) / 6^4
(5^4 + 4 * (5^3) + 6 * (5^2))/ 6^4
(5 / 6) ^ 4
(6 * 5 * 4 * 3) / 6^4
（120 + 21) / 6^4
(120 + 21) / 6^4
52 * 51 * 50 * 49 * 48 * 47 * 46
52 * 51 * 50 * 49 * 48 * 47
52 * 51 * 50 * 49 * 48 * 47 * 46
52 * 51 * 50 * 49 * 48 * 47 * 46 / (7 * 6 * 5 *4 *3*2)
41584 / 133784560
(4*13*6*12*6*11) / 133784560
(4*13*6*12*6*11)
(4*13*6*12*6*11) / 133784560
13 * 12 * 2
13 * 12 * 4
13 * 12 * 4 / 133784560
13 * 12 * 4 / 133784560
12 * 6 * 11 * 6
12 * 6 * 11 * 6 * 13 * 4
13*6*12*6*11*6*10*4
13*6*12*6*11*6*10*4 / 133784560
(13 * 4 *12 * 4 * 11 * 4 * 10 * 4 * 9 * 4) / 133784560
13 * 12 * 2
13 * 12 * 2 / 133784560
(13 * 12 * 11 * 4 * 6 * 6/ 6) / 133784560
(13 * 12 * 11 * 10 * 6 * 6 * 6 * 4/ 24) / 133784560
(13 * 12 * 11 * 10 * 6 * 6 * 6 * 4/ 24)
(13 * 12 * 11 * 10 * 6 * 6 * 6 * 4/ 24) / 133784560
(13 * 12 * 11 * 10 * 9 * (4^5) / 120) / 133784560
(13 * 12 * 11 * 10 * 9 * 8 * 7 / (7 * 6 *5 *4*3*2) ) * (4^7)   / 133784560
setwd("~/Desktop/欧阳")
knitr::opts_chunk$set(echo = TRUE)
yuyi <- read.csv("~/Desktop/欧阳/yuyi.csv")
library("readxl")
install.packages("readxl")
library("readxl")
setwd("~/Desktop/欧阳")
yuyi <- read_excel("~/Desktop/欧阳/评价语义汇总")
yuyi <- read_excel("~/Desktop/欧阳/评价语义汇总.xlsx")
yuyi
meanings<- read_excel("~/Desktop/欧阳/评价语义汇总.xlsx")
meanings
propositions <- read_excel("~/Desktop/欧阳/评价命题汇总.xlsx")
propositions
install.packages("optiscale")
library("optiscale")
install.packages("lattice")
install.packages("lattice")
?optiscale
propositions.op.scaled <- opscale(x.qual=x1, x.quant=x2, level=2, process=1)
qualitative <- propositions$...2
quantitative <- propositions$...5
propositions.op.scaled <- opscale(x.qual=x1, x.quant=x2, level=2, process=1)
propositions.op.scaled <- opscale(x.qual=qualitative, x.quant=quantitative, level=2, process=1)
qualitative <- propositions$...2[1:]
qualitative
qualitative[1:]
qualitative[-1]
qualitative <- propositions$...2[-1]
quantitative <- propositions$...5[-1]
propositions.op.scaled <- opscale(x.qual=qualitative, x.quant=quantitative, level=2, process=1)
quantitative
qualitative
qualitative <- propositions$...2[c(1:28)]
qualitative
qualitative <- propositions$...2[c(2:27)]
qualitative
quantitative <- propositions$...5[c(2:27)]
propositions.op.scaled <- opscale(x.qual=qualitative, x.quant=quantitative, level=2, process=1)
quantitative
quantitative <- strtoi(propositions$...5[c(2:27)])
quantitative
propositions.op.scaled <- opscale(x.qual=qualitative, x.quant=quantitative, level=2, process=1)
print(propositions.op.scaled)
plot(propositions.op.scaled)
quantitative <- strtoi(propositions$...5[c(2:10)])
qualitative <- propositions$...2[c(2:10)]
quantitative <- strtoi(propositions$...5[c(2:10)])
propositions.op.scaled <- opscale(x.qual=qualitative, x.quant=quantitative, level=2, process=1)
plot(propositions.op.scaled)
knitr::opts_chunk$set(echo = TRUE)
library(nycflights13)
library(tidyverse)
install.packages('tidyverse')
knitr::opts_chunk$set(echo = TRUE)
library(nycflights13)
library(tidyverse)
install.packages(tidyverse)
install.packages("tidyverse")
install.packages("tidyverse")
install.packages("tidyverse")
knitr::opts_chunk$set(echo = TRUE)
flights2 <-
flights %>%
select(hour, minute, dep_delay, arr_delay)
flights2 <- flights %>%
select(hour, minute, dep_delay, arr_delay)
library(dplyr)
library(nycflights13)
library(ggplot2)
library(lubridate)
library(convertr)
library(tidyr)
flights2 <- flights %>%
select(hour, minute, dep_delay, arr_delay)
flights2
?flights2
?flights
flights2 <- flights %>%
select(hour, minute, dep_delay, arr_delay)
flights3 <- flights2 %>%
group_by(hour, minute) %>%
summarise(
count = n(),
mean_dep_delay = mean(dep_delay, na.rm = TRUE),
mean_arr_delay = mean(arr_delay, na.rm = TRUE)
)
flights3
flights2 <- flights %>%
select(hour, minute, dep_delay, arr_delay)
flights3 <- flights2 %>%
group_by(hour) %>%
summarise(
count = n(),
mean_dep_delay = mean(dep_delay, na.rm = TRUE),
mean_arr_delay = mean(arr_delay, na.rm = TRUE)
)
flights3
result1 <- flights3[order(-df[,3]), ]
result1 <- flights3[order(-flights3$mean_dep_delay), ]
result1
flights2 <- flights %>%
select(hour, minute, dep_delay, arr_delay)
flights3 <- flights2 %>%
group_by(hour) %>%
summarise(
count = n(),
mean_dep_delay = mean(dep_delay, na.rm = TRUE),
mean_arr_delay = mean(arr_delay, na.rm = TRUE)
)
result1 <- flights3[order(-flights3$mean_dep_delay), ]
result2 <- flights3[order(-flights3$mean_arr_delay), ]
result1
result2
tail(result1)
tail(result2)
result2
flights
season <- flights %>%
select(month, dep_delay, arr_delay)
season
dat1 <- season %>%
mutate(month = recode(month, 3 = 'Spring',
season
season <- flights %>%
select(month, dep_delay, arr_delay) %>%
group_by(month) %>%
summarise(mean_dep_delay = mean(dep_delay), na.rm = TRUE,
mean_arr_delay = mean(arr_delay), )
season
season <- flights %>%
select(month, dep_delay, arr_delay) %>%
group_by(month) %>%
summarise(mean_dep_delay = mean(dep_delay, na.rm = TRUE),
mean_arr_delay = mean(arr_delay, na.rm = TRUE))
season
season[season$month == 1, ]
season <- flights %>%
select(month, dep_delay, arr_delay)
season[season$month == 1, ]
season[season$month in c(3, 4, 5), ]$month = 'Spring'
season[season$month %in% c(3, 4, 5), ]$month = 'Spring'
season <- flights %>%
select(month, dep_delay, arr_delay)
season[season$month %in% c(3, 4, 5), ]$month = -1 ## -1 stands for Spring
season[season$month %in% c(6, 7, 8), ]$month = -2 ## -2 stands for Summer
season[season$month %in% c(9, 10, 11), ]$month = -3 ## -3 stands for Fall
season[season$month %in% c(12, 1, 2), ]$month = -4 ## -4 stands for Winter
season_table <- season %>%
group_by(month) %>%
summarize(
mean_dep_delay = mean(dep_delay, na.rm = TRUE),
mean_arr_delay = mean(arr_delay, na.rm = TRUE)
)
season_table
weather
flights
flights
flights %>%
select(year:day, origin, dep_delay, arr_delay) %>%
left_join(weather, by = c("year", "month", "day", "origin"))
flights %>%
select(year:day, origin, dep_delay, arr_delay) %>%
left_join(weather, by = c("year", "month", "day", "origin"))
weather <-
flights %>%
select(year:day, origin, dep_delay, arr_delay) %>%
left_join(weather, by = c("year", "month", "day", "origin"))
weather
weather2 <-
weather %>%
group_by(year, month, day, origin) %>%
summarise(
mean_temp = mean(temp, na.rm = TRUE),
mean_wind_speed = mean(wind_speed, na.rm = TRUE),
mean_precip = mean(precip, na.rm = TRUE),
mean_visib = mean(visib, na.rm = TRUE),
num_flights = n()
)
weather2 <-
weather %>%
group_by(year, month, day, origin) %>%
summarise(
mean_temp = mean(temp, na.rm = TRUE),
mean_wind_speed = mean(wind_speed, na.rm = TRUE),
mean_precip = mean(precip, na.rm = TRUE),
mean_visib = mean(visib, na.rm = TRUE),
num_flights = n()
)
weather2
weather2 <-
weather %>%
group_by(year, month, day, origin) %>%
summarise(
mean_dep_delay = mean(dep_delay),
mean_arr_delay = mean(arr_delay),
mean_temp = mean(temp, na.rm = TRUE),
mean_wind_speed = mean(wind_speed, na.rm = TRUE),
mean_precip = mean(precip, na.rm = TRUE),
mean_visib = mean(visib, na.rm = TRUE),
num_flights = n()
)
result1 <- flights3 %>%
order_by(mean_dep_delay)
tail(result1)
result2
result1 <- flights3 %>%
order_by(mean_dep_delay)
flights3 %>%
order_by(mean_dep_delay)
tail(result1)
result2
flights3 %>%
order_by(mean_dep_delay)
tail(result1)
result2
weather2 %>%
order_by(order_by = mean_arr_delay)
weather_temp <- weather2[order(-weather2$mean_dep_delay), ]
weather_temp
weather_temp <- weather2[order(-weather2$mean_dep_delay, na.rm = TRUE), ]
weather2 <-
weather %>%
group_by(year, month, day, origin) %>%
summarise(
mean_dep_delay = mean(dep_delay, na.rm = TRUE),
mean_arr_delay = mean(arr_delay, na.rm = TRUE),
mean_temp = mean(temp, na.rm = TRUE),
mean_wind_speed = mean(wind_speed, na.rm = TRUE),
mean_precip = mean(precip, na.rm = TRUE),
mean_visib = mean(visib, na.rm = TRUE),
num_flights = n()
)
weather_temp <- weather2[order(-weather2$mean_dep_delay), ]
weather_temp
tail(weather_temp)
weather
ggplot(data = weather2) +
geom_point(mapping = aes(x = temp, y = dep_delay))
weather2 <-
flights %>%
select(year:day, origin, dep_delay, arr_delay) %>%
left_join(weather, by = c("year", "month", "day", "origin"))
weather2 <-
flights %>%
select(year:day, origin, dep_delay, arr_delay) %>%
left_join(weather, by = c("year", "month", "day", "origin"))
flights
weather
ggplot(data = weather) +
geom_point(mapping = aes(x = temp, y = dep_delay))
season <- flights %>%
select(month, dep_delay, arr_delay)
tail(result1)
**Weather**
About weather, I would pick four attributes, the temperature, wind speed, precipation, visib (that I believe would cause flights delay)
weather
library(shiny)
install.packages("purrr")
runApp("CensusApp")
install.packages(c("maps", "mapproj"))
library(maps)
library(mapproj)
source("census-app/helpers.R")
setwd("~/Documents/STAT433/CensusApp")
source("~/Documents/STAT433/CensusApp/helpers.R")
counties <- readRDS("~/Documents/STAT433/CensusApp/data/counties.rds")
percent_map(counties$white, "darkgreen", "% White")
library(mapproj)
source("helpers.R")
counties <- readRDS("data/counties.rds")
library(maps)
library(mapproj)
library(maps)
library(mapproj)
runGitHub("CensusApp", "YIXIAO0")
runGitHub("CensusApp", "JasonHJH97")
library(shiny)
runGitHub("CensusApp", "YIXIAO0")
install_github()
runGitHub("CensusApp", "YIXIAO0")
runApp()
runApp()
runApp()
runApp()
